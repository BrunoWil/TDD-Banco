version: 1.0
runtime: python311
build:
  commands:
    build:
      # 1. Baixa e instala o uv via HTTPS
      - curl -LsSf https://astral.sh/uv/install.sh | sh
      # 2. Garante que o comando 'uv' seja reconhecido no restante do build
      - source $HOME/.cargo/env
      # 3. Instala as dependÃªncias usando o uv
      - uv pip install --system .
run:
  command: uvicorn api:app --host 0.0.0.0 --port 8080
  network:
    port: 8080